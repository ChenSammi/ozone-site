

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Hadoop Ozone Documentation">

    <title>Documentation for Apache Hadoop Ozone</title>

    
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    
    <link href="../../css/ozonedoc.css" rel="stylesheet">

  </head>


<body>

  
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="#" class="navbar-left" style="height: 50px; padding: 5px 5px 5px 0;">
        <img src="../../ozone-logo-small.png" width="40"/>
      </a>
      <a class="navbar-brand hidden-xs" href="#">
        Apache Hadoop Ozone/HDDS documentation
      </a>
      <a class="navbar-brand visible-xs-inline" href="#">Hadoop Ozone</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/apache/hadoop-ozone">Source</a></li>
        <li><a href="https://hadoop.apache.org">Apache Hadoop</a></li>
        <li><a href="https://apache.org">ASF</a></li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container-fluid">
    <div class="row">
      
<div class="col-sm-2 col-md-2 sidebar" id="sidebar">
  <ul class="nav nav-sidebar">
    
    
        
            <li class="">
                
                   <a href="../../zh/">
                

                    
                    <span>概述</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/start.html">
                

                    
                    <span>快速入门</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/shell.html">
                

                    
                    <span>命令行接口</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/interface.html">
                

                    
                    <span>编程接口</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/gdpr.html">
                

                    
                    <span>GDPR</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/concept.html">
                

                    
                    <span>概念</span>
                </a>
            </li>
        
    
    <li class="visible-xs"><a href="#">References</a>
    <ul class="nav">
        <li><a href="https://github.com/apache/hadoop"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Source</a></li>
        <li><a href="https://hadoop.apache.org"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Apache Hadoop</a></li>
        <li><a href="https://apache.org"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> ASF</a></li>
    </ul></li>
  </ul>

</div>

      <div class="col-sm-10 col-sm-offset-2 col-md-10 col-md-offset-2 main">



        <div class="col-md-9">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="../../">Home</a></li>
                  <li class="breadcrumb-item" aria-current="page"><a href="../../zh/shell.html">命令行接口</a></li>
                  <li class="breadcrumb-item active" aria-current="page">卷命令</li>
                </ol>
              </nav>

          

<div class="pull-right">
    
    
    <a href="../../shell/volumecommands.html"><span class="label label-success">English</span></a>
    
    
    
    
</div>


          <div class="col-md-9">
            <h1>卷命令</h1>

            

<!---
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<p>卷命令通常需要管理员权限，ozone shell 支持以下卷命令：</p>

<ul>
<li><a href="#创建">创建</a></li>
<li><a href="#删除">删除</a></li>
<li><a href="#查看">查看</a></li>
<li><a href="#列举">列举</a></li>
<li><a href="#更新">更新</a></li>
</ul>

<h3 id="创建">创建</h3>

<p>管理员可以通过 <code>volume create</code> 命令创建一个卷并分配给一个用户。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>-q, --quota</td>
<td>可选，指明该卷在 Ozone 集群所能使用的最大空间，即限额。</td>
</tr>

<tr>
<td>-u, --user</td>
<td>必需，指明该卷的所有者，此用户可以在该卷中创建桶和键。</td>
</tr>

<tr>
<td>Uri</td>
<td>卷名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh volume create --quota<span style="color:#f92672">=</span>1TB --user<span style="color:#f92672">=</span>bilbo /hive</code></pre></div>

<p>上述命令会在 ozone 集群中创建名为 <em>hive</em> 的卷，卷的限额为 1TB，所有者为 <em>bilbo</em> 。</p>

<h3 id="删除">删除</h3>

<p>管理员可以通过 <code>volume delete</code> 命令删除一个卷，如果卷不为空，此命令将失败。</p>

<p><strong><em>参数</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>Uri</td>
<td>卷名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh volume delete /hive</code></pre></div>

<p>如果 hive 卷中不包含任何桶，上述命令将删除 hive 卷。</p>

<h3 id="查看">查看</h3>

<p>通过 <code>volume info</code> 命令可以获取卷的限额和所有者信息。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>Uri</td>
<td>卷名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh volume info /hive</code></pre></div>

<p>上述命令会打印出 hive 卷的相关信息。</p>

<h3 id="列举">列举</h3>

<p><code>volume list</code> 命令用来列举一个用户拥有的所有卷。</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh volume list --user hadoop</code></pre></div>

<p>上述命令会打印出 hadoop 用户拥有的所有卷。</p>

<h3 id="更新">更新</h3>

<p><code>volume update</code> 命令用来修改卷的所有者和限额。</p>

<p><strong><em>参数</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>-q, --quota</td>
<td>可选，重新指定该卷在 Ozone 集群中的限额。</td>
</tr>

<tr>
<td>-u, --user</td>
<td>可选，重新指定该卷的所有者</td>
</tr>

<tr>
<td>Uri</td>
<td>卷名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh volume update --quota<span style="color:#f92672">=</span>10TB /hive</code></pre></div>

<p>上述命令将 hive 卷的限额更新为 10TB。</p>


          
          <a class="btn  btn-success btn-lg" href="../../zh/shell/bucketcommands.html">Next >></a>
          
          </div>

        </div>
      </div>
    </div>
  </div>

  


<script src="../../js/jquery-3.4.1.min.js"></script>
<script src="../../js/ozonedoc.js"></script>
<script src="../../js/bootstrap.min.js"></script>


</body>

</html>