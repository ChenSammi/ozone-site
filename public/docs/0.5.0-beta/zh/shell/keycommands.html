

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Hadoop Ozone Documentation">

    <title>Documentation for Apache Hadoop Ozone</title>

    
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    
    <link href="../../css/ozonedoc.css" rel="stylesheet">

  </head>


<body>

  
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="#" class="navbar-left" style="height: 50px; padding: 5px 5px 5px 0;">
        <img src="../../ozone-logo-small.png" width="40"/>
      </a>
      <a class="navbar-brand hidden-xs" href="#">
        Apache Hadoop Ozone/HDDS documentation
      </a>
      <a class="navbar-brand visible-xs-inline" href="#">Hadoop Ozone</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/apache/hadoop-ozone">Source</a></li>
        <li><a href="https://hadoop.apache.org">Apache Hadoop</a></li>
        <li><a href="https://apache.org">ASF</a></li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container-fluid">
    <div class="row">
      
<div class="col-sm-2 col-md-2 sidebar" id="sidebar">
  <ul class="nav nav-sidebar">
    
    
        
            <li class="">
                
                   <a href="../../zh/">
                

                    
                    <span>概述</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/start.html">
                

                    
                    <span>快速入门</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/shell.html">
                

                    
                    <span>命令行接口</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/interface.html">
                

                    
                    <span>编程接口</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/gdpr.html">
                

                    
                    <span>GDPR</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/concept.html">
                

                    
                    <span>概念</span>
                </a>
            </li>
        
    
    <li class="visible-xs"><a href="#">References</a>
    <ul class="nav">
        <li><a href="https://github.com/apache/hadoop"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Source</a></li>
        <li><a href="https://hadoop.apache.org"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Apache Hadoop</a></li>
        <li><a href="https://apache.org"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> ASF</a></li>
    </ul></li>
  </ul>

</div>

      <div class="col-sm-10 col-sm-offset-2 col-md-10 col-md-offset-2 main">



        <div class="col-md-9">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="../../">Home</a></li>
                  <li class="breadcrumb-item" aria-current="page"><a href="../../zh/shell.html">命令行接口</a></li>
                  <li class="breadcrumb-item active" aria-current="page">键命令</li>
                </ol>
              </nav>

          

<div class="pull-right">
    
    
    <a href="../../shell/keycommands.html"><span class="label label-success">English</span></a>
    
    
    
    
</div>


          <div class="col-md-9">
            <h1>键命令</h1>

            

<!---
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<p>Ozone shell 提供以下键命令：</p>

<ul>
<li><a href="#下载">下载</a></li>
<li><a href="#上传">上传</a></li>
<li><a href="#删除">删除</a></li>
<li><a href="#查看">查看</a></li>
<li><a href="#列举">列举</a></li>
<li><a href="#重命名">重命名</a></li>
</ul>

<h3 id="下载">下载</h3>

<p><code>key get</code> 命令从 Ozone 集群下载一个键到本地文件系统。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>Uri</td>
<td>键名，格式为 <strong>/volume/bucket/key</strong></td>
</tr>

<tr>
<td>FileName</td>
<td>下载到本地后的文件名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh key get /hive/jan/sales.orc sales.orc</code></pre></div>

<p>从 <em>/hive/jan</em> 桶中下载 sales.orc 文件，写入到本地名为 sales.orc 的文件。</p>

<h3 id="上传">上传</h3>

<p><code>key put</code> 命令从本地文件系统上传一个文件到指定的桶。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>Uri</td>
<td>键名，格式为 <strong>/volume/bucket/key</strong></td>
</tr>

<tr>
<td>FileName</td>
<td>待上传的本地文件</td>
</tr>

<tr>
<td>-r, --replication</td>
<td>可选，上传后的副本数，合法值为 ONE 或者 THREE，如果不设置，将采用集群配置中的默认值。</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh key put /hive/jan/corrected-sales.orc sales.orc</code></pre></div>

<p>上述命令将 sales.orc 文件作为新键上传到 <em>/hive/jan/corrected-sales.orc</em> 。</p>

<h3 id="删除">删除</h3>

<p><code>key delete</code> 命令用来从桶中删除指定键。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>Uri</td>
<td>键名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh key delete /hive/jan/corrected-sales.orc</code></pre></div>

<p>上述命令会将 <em>/hive/jan/corrected-sales.orc</em> 这个键删除。</p>

<h3 id="查看">查看</h3>

<p><code>key info</code> 命令返回指定键的信息。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>Uri</td>
<td>键名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh key info /hive/jan/sales.orc</code></pre></div>

<p>上述命令会打印出 <em>/hive/jan/sales.orc</em> 键的相关信息。</p>

<h3 id="列举">列举</h3>

<p>用户通过 <code>key list</code> 命令列出一个桶中的所有键。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>-l, --length</td>
<td>返回结果的最大数量，默认值为 100</td>
</tr>

<tr>
<td>-p, --prefix</td>
<td>可选，只有匹配指定前缀的键会被返回</td>
</tr>

<tr>
<td>-s, --start</td>
<td>从指定键开始列举</td>
</tr>

<tr>
<td>Uri</td>
<td>桶名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh key list /hive/jan</code></pre></div>

<p>此命令会列出 <em>/hive/jan</em> 桶中的所有键。</p>

<h3 id="重命名">重命名</h3>

<p><code>key rename</code> 命令用来修改指定桶中的已有键的键名。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>Uri</td>
<td>桶名，格式为 <strong>/volume/bucket</strong></td>
</tr>

<tr>
<td>FromKey</td>
<td>旧的键名</td>
</tr>

<tr>
<td>ToKey</td>
<td>新的键名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh key rename /hive/jan sales.orc new_name.orc</code></pre></div>

<p>上述命令会将 <em>/hive/jan</em> 桶中的 <em>sales.orc</em> 重命名为 <em>new_name.orc</em> 。</p>


          
          </div>

        </div>
      </div>
    </div>
  </div>

  


<script src="../../js/jquery-3.4.1.min.js"></script>
<script src="../../js/ozonedoc.js"></script>
<script src="../../js/bootstrap.min.js"></script>


</body>

</html>