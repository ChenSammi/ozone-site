

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Hadoop Ozone Documentation">

    <title>Documentation for Apache Hadoop Ozone</title>

    
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    
    <link href="../../css/ozonedoc.css" rel="stylesheet">

  </head>


<body>

  
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="#" class="navbar-left" style="height: 50px; padding: 5px 5px 5px 0;">
        <img src="../../ozone-logo-small.png" width="40"/>
      </a>
      <a class="navbar-brand hidden-xs" href="#">
        Apache Hadoop Ozone/HDDS documentation
      </a>
      <a class="navbar-brand visible-xs-inline" href="#">Hadoop Ozone</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/apache/hadoop-ozone">Source</a></li>
        <li><a href="https://hadoop.apache.org">Apache Hadoop</a></li>
        <li><a href="https://apache.org">ASF</a></li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container-fluid">
    <div class="row">
      
<div class="col-sm-2 col-md-2 sidebar" id="sidebar">
  <ul class="nav nav-sidebar">
    
    
        
            <li class="">
                
                   <a href="../../zh/">
                

                    
                    <span>概述</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/start.html">
                

                    
                    <span>快速入门</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/shell.html">
                

                    
                    <span>命令行接口</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/interface.html">
                

                    
                    <span>编程接口</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/gdpr.html">
                

                    
                    <span>GDPR</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/concept.html">
                

                    
                    <span>概念</span>
                </a>
            </li>
        
    
    <li class="visible-xs"><a href="#">References</a>
    <ul class="nav">
        <li><a href="https://github.com/apache/hadoop"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Source</a></li>
        <li><a href="https://hadoop.apache.org"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Apache Hadoop</a></li>
        <li><a href="https://apache.org"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> ASF</a></li>
    </ul></li>
  </ul>

</div>

      <div class="col-sm-10 col-sm-offset-2 col-md-10 col-md-offset-2 main">



        <div class="col-md-9">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="../../">Home</a></li>
                  <li class="breadcrumb-item" aria-current="page"><a href="../../zh/shell.html">命令行接口</a></li>
                  <li class="breadcrumb-item active" aria-current="page">桶命令</li>
                </ol>
              </nav>

          

<div class="pull-right">
    
    
    <a href="../../shell/bucketcommands.html"><span class="label label-success">English</span></a>
    
    
    
    
</div>


          <div class="col-md-9">
            <h1>桶命令</h1>

            

<!---
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<p>Ozone shell 提供以下桶命令：</p>

<ul>
<li><a href="#创建">创建</a></li>
<li><a href="#删除">删除</a></li>
<li><a href="#查看">查看</a></li>
<li><a href="#列举">列举</a></li>
</ul>

<h3 id="创建">创建</h3>

<p>用户使用 <code>bucket create</code> 命令来创建桶。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>-g, --enforcegdpr</td>
<td>可选，如果设置为 true 则创建符合 GDPR 规范的桶，设置为 false 或不指定则创建普通的桶</td>
</tr>

<tr>
<td>-k, --bucketKey</td>
<td>可选，如果指定了 KMS 服务器中的桶加密密钥名，该桶中的文件都会被自动加密，KMS 的配置说明可以参考 Hadoop KMS 文档。</td>
</tr>

<tr>
<td>Uri</td>
<td>桶名，格式为 <strong>/volume/bucket</strong></td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh bucket create /hive/jan</code></pre></div>

<p>上述命令会在 <em>hive</em> 卷中创建一个名为 <em>jan</em> 的桶，因为没有指定 scheme，默认使用 O3（RPC）协议。</p>

<h3 id="删除">删除</h3>

<p>用户使用 <code>bucket delete</code> 命令来删除桶，如果桶不为空，此命令将失败。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>Uri</td>
<td>桶名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh bucket delete /hive/jan</code></pre></div>

<p>如果 <em>jan</em> 桶不为空，上述命令会将其删除。</p>

<h3 id="查看">查看</h3>

<p><code>bucket info</code> 命令返回桶的信息。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>Uri</td>
<td>桶名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh bucket info /hive/jan</code></pre></div>

<p>上述命令会打印出 <em>jan</em> 桶的有关信息。</p>

<h3 id="列举">列举</h3>

<p>用户通过 <code>bucket list</code> 命令列举一个卷下的所有桶。</p>

<p><strong><em>参数：</em></strong></p>

<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>-l, --length</td>
<td>返回结果的最大数量，默认为 100</td>
</tr>

<tr>
<td>-p, --prefix</td>
<td>可选，只有匹配指定前缀的桶会被返回</td>
</tr>

<tr>
<td>-s, --start</td>
<td>从指定键开始列举</td>
</tr>

<tr>
<td>Uri</td>
<td>卷名</td>
</tr>
</tbody>
</table>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ozone sh bucket list /hive</code></pre></div>

<p>此命令会列出 <em>hive</em> 卷中的所有桶。</p>


          
          <a class="btn  btn-success btn-lg" href="../../zh/shell/keycommands.html">Next >></a>
          
          </div>

        </div>
      </div>
    </div>
  </div>

  


<script src="../../js/jquery-3.4.1.min.js"></script>
<script src="../../js/ozonedoc.js"></script>
<script src="../../js/bootstrap.min.js"></script>


</body>

</html>